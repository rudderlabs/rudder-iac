{{- if .Comment }}
/** {{ .Comment }} */
{{- end }}
@Serializable
sealed class {{ .Name }} {
{{- range $prop := .Properties }}
{{- if $prop.Abstract }}
    {{- if $prop.Comment }}
    /** {{ $prop.Comment }} */
    {{- end }}
    @SerialName("{{ $prop.SerialName }}")
    abstract val {{ $prop.Name }}: {{ $prop.Type }}{{ if $prop.Nullable }}?{{ end }}
{{- end }}
{{- end }}
{{- range $index, $subclass := .Subclasses }}
{{- if or $index (len $.Properties) }}
{{ end }}
    {{- if $subclass.Comment }}
    /** {{ $subclass.Comment }} */
    {{- end }}
    @Serializable
    data class {{ $subclass.Name }}(
    {{- range $propIndex, $prop := $subclass.Properties }}{{- if $propIndex }},
{{ end }}
        {{- if $prop.Comment }}
        /** {{ $prop.Comment }} */
        {{- end }}
        @SerialName("{{ $prop.SerialName }}")
        {{ if $prop.Override }}override {{ end }}val {{ $prop.Name }}: {{ $prop.Type }}{{ if $prop.Nullable }}?{{ end }}{{ if $prop.Default }} = {{ $prop.Default }}{{ end }}
    {{- end }}
    ) : {{ $.Name }}(){{ if $subclass.BodyProperties }} {
    {{- range $prop := $subclass.BodyProperties }}
        {{- if $prop.Comment }}
        /** {{ $prop.Comment }} */
        {{- end }}
        @SerialName("{{ $prop.SerialName }}")
        {{ if $prop.Override }}override {{ end }}val {{ $prop.Name }}: {{ $prop.Type }}{{ if $prop.Nullable }}?{{ end }}{{ if $prop.Default }} = {{ $prop.Default }}{{ end }}
    {{- end }}
    }{{ end }}
{{- end }}
}