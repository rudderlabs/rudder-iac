version: rudder/v0.1
kind: transformation
metadata:
  name: test_transformations
spec:
  id: greeting_transform
  name: Greeting Transform
  description: Uses library to greet user by name - updated
  language: javascript
  code: |
    import utilsLibrary from 'utilsLibrary';

    export function transformEvent(event, metadata) {
      if (event.properties && event.properties.name) {
        event.properties.greeting = utilsLibrary.greet(event.properties.name);
        event.properties.nameReversed = utilsLibrary.reverse(event.properties.name);
      }
      return event;
    }
