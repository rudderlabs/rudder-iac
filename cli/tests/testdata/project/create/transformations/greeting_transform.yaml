version: rudder/v1
kind: transformation
metadata:
  name: test_transformations
spec:
  id: greeting_transform
  name: Greeting Transform
  description: Uses library to greet user by name
  language: javascript
  code: |
    import { greet } from 'utilsLibrary';

    export function transformEvent(event, metadata) {
      if (event.properties && event.properties.name) {
        event.properties.greeting = greet(event.properties.name);
      }
      return event;
    }
