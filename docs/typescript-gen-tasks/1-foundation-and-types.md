# Task 1: Foundation & Types

**Depends on:** Nothing

---

## Goal

Generator setup, YAML parsing, primitive type mapping (string, number, boolean, null).

---

## What to Build

### 1. Generator Structure

Create generator module that outputs a single `index.ts` file with header:

```typescript
/**
 * This client was automatically generated by RudderTyper. ** Do Not Edit **
 */
```

### 2. YAML Parsing

Parse these files from tracking plan:

- `tracking-plan.yaml` → event rules
- `events.yaml` → event definitions
- `properties.yaml` → property definitions
- `custom-types.yaml` → custom type definitions

Resolve all `$ref` references (e.g., `$ref: "#/properties/typer-test/some-string"`).

### 3. Naming Utilities

| Function     | Input                  | Output            |
| ------------ | ---------------------- | ----------------- |
| toCamelCase  | `"Some Track Event"`   | `someTrackEvent`  |
| toPascalCase | `"Some Track Event"`   | `SomeTrackEvent`  |
| sanitize     | `"$Variable$String"`   | `VariableString`  |
| reservedWord | `"class"`              | `_class`          |

### 4. Primitive Type Mapping

| YAML      | TypeScript            |
| --------- | --------------------- |
| `string`  | `string`              |
| `integer` | `number`              |
| `number`  | `number`              |
| `boolean` | `boolean`             |
| `null`    | `null`                |

**Multi-type:** `"string,integer,boolean"` → `string | number | boolean`

### 5. Property Types

Generate `Property{Name}` type alias for each property:

```yaml
# Input
- id: "some-string"
  name: "someString"
  type: "string"
  description: "some string property"
```

```typescript
// Output
/** some string property */
type PropertySomeString = string;
```

---

## Test Data Location

```
cli/internal/typer/plan/testdata/project/
```

---

## Acceptance Criteria

- [ ] Generator creates valid `index.ts` with header
- [ ] All YAML files parse without errors
- [ ] `$ref` references resolve correctly
- [ ] Naming functions handle all cases
- [ ] Primitive types map correctly (string, number, boolean, null)
- [ ] Property types generate as `Property{Name}` aliases
- [ ] Multi-type properties generate as unions
